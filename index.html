<!doctype html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–ß–∞—Ä—ñ–≤–Ω—ñ –•–º–∞—Ä–∏–Ω–∫–∏</title>

<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;800&display=swap" rel="stylesheet">

<style>
body{
  font-family:'Nunito',sans-serif;
  background:linear-gradient(to bottom,#FFF5EE,#FFE4E1);
}

.word-card{
  cursor:grab;
  transition:.2s;
  touch-action:none;
}
.word-card:active{cursor:grabbing}
.word-card.dragging{
  opacity:.7;
  transform:scale(1.1);
}

.category-zone{
  transition:.3s;
  min-height:120px;
}
.category-zone.drag-over{
  transform:scale(1.03);
  box-shadow:0 0 20px rgba(255,183,150,.5);
}

.star{
  animation:pop .4s ease;
}
@keyframes pop{
  0%{transform:scale(0)}
  100%{transform:scale(1)}
}

.fade-in{
  animation:fade .5s ease;
}
@keyframes fade{
  from{opacity:0}
  to{opacity:1}
}
</style>
</head>

<body class="min-h-screen p-4 md:p-8">

<div id="start" class="text-center fade-in">
  <h1 class="text-3xl md:text-4xl font-extrabold mb-4">‚òÅÔ∏è –ß–∞—Ä—ñ–≤–Ω—ñ –•–º–∞—Ä–∏–Ω–∫–∏</h1>
  <p class="mb-6">–û–±–µ—Ä–∏ —Ä—ñ–≤–µ–Ω—å —Å–∫–ª–∞–¥–Ω–æ—Å—Ç—ñ:</p>

  <div class="flex flex-col md:flex-row gap-4 justify-center">
    <button onclick="startGame('easy')" class="bg-green-300 hover:bg-green-400 px-6 py-3 rounded-2xl font-bold shadow">
      üå± –õ–µ–≥–∫–∏–π
    </button>
    <button onclick="startGame('medium')" class="bg-yellow-300 hover:bg-yellow-400 px-6 py-3 rounded-2xl font-bold shadow">
      üåº –°–µ—Ä–µ–¥–Ω—ñ–π
    </button>
    <button onclick="startGame('hard')" class="bg-orange-300 hover:bg-orange-400 px-6 py-3 rounded-2xl font-bold shadow">
      üî• –°–∫–ª–∞–¥–Ω–∏–π
    </button>
  </div>
</div>

<div id="game" class="hidden fade-in">

  <div class="flex justify-between items-center mb-4 flex-wrap gap-2">
    <h2 class="text-xl md:text-2xl font-bold">–ü–µ—Ä–µ—Ç—è–≥–Ω–∏ —Å–ª–æ–≤–æ</h2>
    <div id="stars"></div>
  </div>

  <div id="categories" class="grid gap-4 md:grid-cols-3 mb-6"></div>
  <div id="words" class="flex flex-wrap gap-3 justify-center"></div>
</div>

<div id="win" class="hidden text-center fade-in">
  <h2 class="text-3xl font-extrabold mb-4">üèÜ –ß—É–¥–æ–≤–æ!</h2>
  <p class="mb-4">–¢–∏ —Ä–æ–∑–∫–ª–∞–≤ —É—Å—ñ —Å–ª–æ–≤–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ!</p>
  <div id="finalStars" class="text-2xl mb-6"></div>
  <button onclick="goHome()" class="bg-blue-300 hover:bg-blue-400 px-8 py-3 rounded-2xl font-bold shadow">
    üîÑ –ì—Ä–∞—Ç–∏ –∑–Ω–æ–≤—É
  </button>
</div>

<script>

const levels = {
easy:[
 {text:"üöÄ –†–∞–∫–µ—Ç–∞",cat:0},
 {text:"üêü –†–∏–±–∞",cat:0},
 {text:"ü¶ä –õ–∏—Å–∏—Ü—è",cat:1},
 {text:"üçã –õ–∏–º–æ–Ω",cat:1}
],
medium:[
 {text:"üöÄ –†–∞–∫–µ—Ç–∞",cat:0},
 {text:"üêü –†–∏–±–∞",cat:0},
 {text:"üåπ –¢—Ä–æ—è–Ω–¥–∞",cat:0},
 {text:"ü¶ä –õ–∏—Å–∏—Ü—è",cat:1},
 {text:"üçã –õ–∏–º–æ–Ω",cat:1},
 {text:"üßª –†—É—à–Ω–∏–∫",cat:0}
],
hard:[
 {text:"üöÄ –†–∞–∫–µ—Ç–∞",cat:0},
 {text:"üêü –†–∏–±–∞",cat:0},
 {text:"üåπ –¢—Ä–æ—è–Ω–¥–∞",cat:0},
 {text:"üñºÔ∏è –ö–∞—Ä—Ç–∏–Ω–∞",cat:0},
 {text:"ü¶ä –õ–∏—Å–∏—Ü—è",cat:1},
 {text:"üçã –õ–∏–º–æ–Ω",cat:1},
 {text:"ü™Å –õ—ñ—Ç–∞–∫",cat:1},
 {text:"üßª –†—É—à–Ω–∏–∫",cat:0}
]
};

const categoriesData=["–ó–≤—É–∫ [–†]","–ó–≤—É–∫ [–õ]"];

let currentWords=[];
let dragged=null;
let stars=0;

function startGame(level){
 document.getElementById("start").classList.add("hidden");
 document.getElementById("win").classList.add("hidden");
 document.getElementById("game").classList.remove("hidden");

 stars=0;
 document.getElementById("stars").innerHTML="";

 currentWords=[...levels[level]];
 currentWords.sort(()=>Math.random()-0.5);

 renderCategories();
 renderWords();
}

function renderCategories(){
 const container=document.getElementById("categories");
 container.innerHTML="";
 categoriesData.forEach((c,i)=>{
  const div=document.createElement("div");
  div.className="category-zone border-4 border-dashed border-orange-300 p-4 rounded-3xl";
  div.dataset.category=i;
  div.innerHTML=`<h3 class="font-bold mb-2">${c}</h3>
                 <div class="sorted flex flex-wrap gap-2"></div>`;
  addDropEvents(div);
  container.appendChild(div);
 });
}

function renderWords(){
 const container=document.getElementById("words");
 container.innerHTML="";
 currentWords.forEach(w=>{
  const div=document.createElement("div");
  div.className="word-card bg-white px-4 py-2 md:px-6 md:py-3 rounded-2xl shadow text-base md:text-lg";
  div.textContent=w.text;
  div.draggable=true;
  div.dataset.cat=w.cat;
  div.addEventListener("dragstart",e=>{
    dragged=e.target;
    e.target.classList.add("dragging");
  });
  div.addEventListener("dragend",e=>{
    e.target.classList.remove("dragging");
  });
  container.appendChild(div);
 });
}

function addDropEvents(zone){
 zone.addEventListener("dragover",e=>{
  e.preventDefault();
  zone.classList.add("drag-over");
 });
 zone.addEventListener("dragleave",()=>{
  zone.classList.remove("drag-over");
 });
 zone.addEventListener("drop",()=>{
  zone.classList.remove("drag-over");
  if(!dragged)return;

  if(dragged.dataset.cat===zone.dataset.category){
    zone.querySelector(".sorted").appendChild(dragged);
    addStar();
    playSound();
    checkWin();
  }else{
    alert("–°–ø—Ä–æ–±—É–π —â–µ —Ä–∞–∑ üòä");
  }
 });
}

function addStar(){
 stars++;
 const s=document.createElement("span");
 s.className="star text-xl";
 s.textContent="‚≠ê";
 document.getElementById("stars").appendChild(s);
}

function playSound(){
 const audio=new Audio("https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg");
 audio.play();
}

function checkWin(){
 if(document.querySelectorAll("#words .word-card").length===0){
   document.getElementById("game").classList.add("hidden");
   document.getElementById("win").classList.remove("hidden");
   document.getElementById("finalStars").textContent="‚≠ê".repeat(stars);
 }
}

function goHome(){
 document.getElementById("start").classList.remove("hidden");
 document.getElementById("win").classList.add("hidden");
}

</script>

</body>
</html>
